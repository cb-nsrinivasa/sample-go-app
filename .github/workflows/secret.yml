name: Build Go Project

on: push

jobs:
  mask-test:
    runs-on: ubuntu-latest
    steps:
      - name: Step 1 - Generate secret and mask it
        id: generate
        run: |
          SECRET_VALUE="super-secret-123"
          echo "::add-mask::$SECRET_VALUE"
          echo "secret_value=$SECRET_VALUE" >> $GITHUB_OUTPUT
      - name: Step 2 - Echo the secret (will be masked)
        run: |
          echo "Secret from step 1: ${{ steps.generate.outputs.secret_value }}"
